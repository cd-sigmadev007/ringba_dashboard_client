@reference "tailwindcss";

@layer components {
    .theme-dark .table-container {
        @apply border border-[color:var(--primary-002-b-57-p-500,#002B57)] rounded-[10px];
    }

    .theme-light .table-container {
        @apply rounded-[10px] bg-[var(--Neutrals-g-10,#FFF)] shadow-[0_0_10px_0_rgba(0,0,0,0.03)];
    }

    .theme-dark .single-table {
        @apply rounded-[10px] bg-[color:var(--primary-001-e-3-cp-600,#001E3C)] shadow-[0_0_10px_0_rgba(0,0,0,0.03)];
    }

    .theme-light .single-table {
        @apply rounded-[10px] bg-[var(--Neutrals-g-10,#FFF)] shadow-[0_0_10px_0_rgba(0,0,0,0.03)];
    }

    .single-table {
        @apply md:rounded-[10px] z-[15];
    }

    .theme-dark .single-table thead {
        @apply text-[#A1A5B7] text-[14px] font-semibold tracking-[0.42px] whitespace-nowrap;
    }

    .theme-light .single-table thead {
        @apply text-[#5E6278] text-[14px] font-semibold tracking-[0.42px] bg-[#F5F8FA] whitespace-nowrap;
    }

    .theme-dark .single-table td,
    .theme-light .single-table td {
        @apply whitespace-nowrap;
    }

    .theme-dark .single-table thead tr,
    .table-header {
        @apply border-b !border-[color:var(--primary-1-b-456-fp-300,#1B456F)];
    }

    .theme-dark .single-table thead tr:first-child th:first-child {
        @apply rounded-tl-[10px];
    }

    .theme-dark .single-table thead tr:first-child th:last-child {
        @apply rounded-tr-[10px];
    }

    .theme-light .single-table thead tr,
    .table-header {
        @apply border-b !border-[#F0F5FF];
    }

    .theme-light .single-table thead tr:first-child th:first-child {
        @apply rounded-tl-[10px];
    }

    .theme-light .single-table thead tr:first-child th:last-child {
        @apply rounded-tr-[10px];
    }

    .theme-dark .table-header {
        /* Keep all table borders consistent with #002B57 in dark mode */
        @apply border-b !border-[#002B57] bg-[#001E3C];
    }

    .theme-light .table-header {
        @apply rounded-[10px] bg-[var(--Neutrals-g-10,#FFF)];
    }

    .theme-dark .single-table tr:not(:last-child) {
        @apply border-b border-[#002B57];
    }

    .theme-light .single-table tr:not(:last-child) {
        @apply border-b border-[#F0F5FF];
    }

    .theme-dark .single-table tbody tr {
        @apply hover:bg-[#002B57];
    }

    .theme-light .single-table tbody tr {
        @apply hover:bg-[#F0F5FF];
    }

    .not-multi tbody tr:last-child td:first-child {
        @apply rounded-bl-[10px];
    }

    .not-multi tbody tr:last-child td:last-child {
        @apply rounded-br-[10px];
    }

    .theme-dark .single-table tbody tr:last-child td:first-child {
        @apply rounded-bl-[10px];
    }

    .theme-dark .single-table tbody tr:last-child td:last-child {
        @apply rounded-br-[10px];
    }

    .theme-light .single-table tbody tr:last-child td:first-child {
        @apply rounded-bl-[10px];
    }

    .theme-light .single-table tbody tr:last-child td:last-child {
        @apply rounded-br-[10px];
    }

    .theme-light .single-table tbody tr:last-child td:first-child {
        @apply rounded-bl-[10px];
    }

    .theme-light .single-table tbody tr:last-child td:last-child {
        @apply rounded-br-[10px];
    }

    /* ------------------------------------------- */
    /* LEFT STICKY COLUMN (original Figma spec)   */
    /* ------------------------------------------- */
    .theme-dark .single-table .sticky-column {
        /* Sticky column background: subtle overlay rgba(217,217,217,0.01) */
        @apply bg-[rgba(217,217,217,0.01)] drop-shadow-[14px_0_10px_rgba(0,0,0,0.20)];
        border-right: 1px solid #002b57;
    }

    .theme-light .single-table .sticky-column {
        @apply bg-[rgba(217,217,217,0.01)] drop-shadow-[14px_0_10px_rgba(0,0,0,0.10)];
        border-right: 1px solid #002b57;
    }

    .theme-dark .single-table .sticky-column-th {
        @apply bg-[rgba(217,217,217,0.01)] z-10 drop-shadow-[14px_0_10px_rgba(0,0,0,0.20)];
        border-right: 1px solid #002b57;
    }

    .theme-light .single-table .sticky-column-th {
        @apply bg-[rgba(217,217,217,0.01)] z-10 drop-shadow-[14px_0_10px_rgba(0,0,0,0.10)];
        border-right: 1px solid #002b57;
    }

    /* Stronger shadow when scrollable */
    .table-scrollable .sticky-column,
    .table-scrollable .sticky-column-th {
        @apply shadow-[16px_0_14px_0_rgba(0,0,0,0.25)];
    }

    /* ------------------------------------------- */
    /* RIGHT STICKY COLUMN (mirrored for right)   */
    /* ------------------------------------------- */
    .theme-dark .single-table .sticky-column-right {
        /* Same subtle rgba background for right sticky column */
        @apply bg-[rgba(217,217,217,0.01)] border-[#002B57] drop-shadow-[-14px_0_10px_rgba(0,0,0,0.20)];
        border-left: 1px solid #002b57;
    }

    .theme-light .single-table .sticky-column-right {
        @apply bg-[rgba(217,217,217,0.01)] drop-shadow-[-14px_0_10px_rgba(0,0,0,0.10)];
        border-left: 1px solid #002b57;
    }

    .theme-dark .single-table .sticky-column-right-th {
        @apply bg-[rgba(217,217,217,0.01)] z-10 drop-shadow-[-14px_0_10px_rgba(0,0,0,0.20)];
        border-left: 1px solid #002b57;
    }

    .theme-light .single-table .sticky-column-right-th {
        @apply bg-[rgba(217,217,217,0.01)] z-10 drop-shadow-[-14px_0_10px_rgba(0,0,0,0.10)];
        border-left: 1px solid #002b57;
    }

    /* Stronger shadow when scrollableâ€”mirrored */
    .table-scrollable .sticky-column-right,
    .table-scrollable .sticky-column-right-th {
        @apply shadow-[-16px_0_14px_0_rgba(0,0,0,0.25)];
    }

    /* Ensure sticky columns maintain position */
    .sticky-column,
    .sticky-column-th {
        position: sticky !important;
        left: 0 !important;
    }

    /* Right sticky columns */
    .sticky-column-right,
    .sticky-column-right-th {
        position: sticky !important;
        right: 0 !important;
    }

    /* Disable right sticky on mobile */
    @media (max-width: 767px) {
        .sticky-column-right,
        .sticky-column-right-th {
            position: static !important;
            right: auto !important;
        }
    }

    /* Prevent table from collapsing sticky columns */
    .single-table {
        table-layout: auto;
    }

    /* Ensure proper z-index stacking - sticky header behind first header */
    .sticky-column-th {
        z-index: 5 !important;
    }

    .sticky-column {
        z-index: 5 !important;
    }

    /* First header should be above sticky header */
    .single-table thead tr th:first-child {
        z-index: 10 !important;
    }

    /* Table container overflow handling */
    .table-container {
        position: relative;
        overflow-x: auto;
        width: 100%;
    }

    /* Responsive table wrapper */
    .table-responsive-wrapper {
        width: 100%;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }

    /* Ensure sticky columns don't get cut off */
    .table-scrollable {
        position: relative;
    }

    /* Prevent sticky column from scrolling at the end */
    .table-scrollable .single-table {
        min-width: max-content;
    }

    /* Mobile responsive table */
    @media (max-width: 768px) {
        .table-scrollable .single-table {
            min-width: 100%;
        }
    }

    /* Consistent borders for table cells (not headers) */
    .single-table td {
        /* border-right: 1px solid !important; */
        border-bottom: 1px solid !important;
    }

    /* Remove bottom border from last row to prevent double border with pagination */
    .single-table tbody tr:last-child td {
        border-bottom: none !important;
    }

    /* Dark theme borders */
    .theme-dark .single-table td {
        border-color: #002b57 !important;
    }

    /* Light theme borders */
    .theme-light .single-table td {
        border-color: #e0e0e0 !important;
    }

    /* Ensure sticky columns have proper borders */
    .sticky-column,
    .sticky-column-th {
        /* border-right: 2px solid !important; */
        border-bottom: 1px solid !important;
        z-index: 999 !important;
        position: sticky !important;
        left: 0 !important;
    }

    /* Right sticky columns borders */
    .sticky-column-right,
    .sticky-column-right-th {
        border-bottom: 1px solid !important;
        z-index: 998 !important;
        position: sticky !important;
        right: 0 !important;
    }

    /* Dark theme sticky column borders */
    .theme-dark .sticky-column,
    .theme-dark .sticky-column-th {
        border-right-color: #002b57 !important;
        border-bottom-color: #002b57 !important;
    }

    /* Light theme sticky column borders */
    .theme-light .sticky-column,
    .theme-light .sticky-column-th {
        border-right-color: #e0e0e0 !important;
        border-bottom-color: #f0f5ff !important;
    }

    /* Dark theme right sticky column borders */
    .theme-dark .sticky-column-right,
    .theme-dark .sticky-column-right-th {
        border-left-color: #002b57 !important;
        border-bottom-color: #002b57 !important;
    }

    /* Light theme right sticky column borders */
    .theme-light .sticky-column-right,
    .theme-light .sticky-column-right-th {
        border-left-color: #e0e0e0 !important;
        border-bottom-color: #f0f5ff !important;
    }

    .theme-dark .filter-select-dark {
        @apply bg-[#001E3C] hover:border-[#0254a5] focus:border-[#0254a5] text-[#f5f8fa];
    }

    .theme-light .filter-select-dark {
        @apply bg-white border-[#E0E0E0] hover:border-[#007FFF] focus:border-[#007FFF] text-[#3f4254];
    }

    .theme-dark .filter-select {
        @apply bg-[#002B57] hover:border-[#0254a5] focus:border-[#0254a5] text-[#f5f8fa];
    }

    .theme-light .filter-select {
        @apply bg-white border-[#E0E0E0] hover:border-[#007FFF] focus:border-[#007FFF] text-[#3f4254];
    }

    .theme-dark .filter-select-open {
        @apply border-[#0254a5];
    }

    .theme-light .filter-select-open {
        @apply border-[#007FFF];
    }

    .theme-dark .filter-select-disable {
        @apply bg-[#002B57] border-[#1B456F] hover:border-[#1B456F] text-[#5E6278];
    }

    .theme-light .filter-select-disable {
        @apply bg-[#ECECEC] border-[#ECECEC] hover:border-[#ECECEC] text-[#A1A5B7];
    }

    .theme-dark .table-filter-list {
        @apply bg-[#002B57];
    }

    .theme-light .table-filter-list {
        @apply bg-white;
    }

    .theme-dark .table-filter-item {
        @apply transition-all duration-300 ease-out hover:bg-[#1B456F];
    }

    .theme-light .table-filter-item {
        @apply hover:bg-[#F0F8FF];
    }

    .theme-dark .table-filter-item-disable {
        @apply text-[#A1A5B7];
    }

    .theme-light .table-filter-item-disable {
        @apply text-[#3F4254] opacity-50;
    }

    .theme-dark .filter-item-selected {
        @apply bg-[#1B456F];
    }

    .theme-light .filter-item-selected {
        @apply bg-[#F0F8FF];
    }
}
