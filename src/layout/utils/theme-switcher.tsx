import React from 'react';
import Button from '../../components/ui/Button';
import { useThemeStore } from '../../store/themeStore';
import clsx from 'clsx';

interface ThemeSwitcherProps {
  className?: string;
}

const ThemeSwitcher: React.FC<ThemeSwitcherProps> = ({ className }) => {
  const { theme, toggleTheme } = useThemeStore();
  const isDark = theme === 'dark';

  return (
    <Button
      onClick={toggleTheme}
      className={clsx(
        '!px-[9px] banner-btn justify-center group',
        'flex items-center gap-2',
        'min-w-[44px] min-h-[44px]', // Touch-friendly size
        'sm:min-w-auto sm:min-h-auto',
        className
      )}
      variant="ghost"
      title={`Switch to ${isDark ? 'Light' : 'Dark'} Mode`}
    >
      {/* Icon container with consistent sizing */}
      <div className="flex items-center justify-center w-5 h-5 flex-shrink-0">
        {isDark ? (
          <svg
            width="20"
            height="21"
            viewBox="0 0 20 21"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            className="w-full h-full icon"
          >
            <path
              d="M9.99998 12.9997C10.6944 12.9997 11.2847 12.7566 11.7708 12.2705C12.2569 11.7844 12.5 11.1941 12.5 10.4997C12.5 9.80523 12.2569 9.21495 11.7708 8.72884C11.2847 8.24273 10.6944 7.99967 9.99998 7.99967C9.30554 7.99967 8.71526 8.24273 8.22915 8.72884C7.74304 9.21495 7.49998 9.80523 7.49998 10.4997C7.49998 11.1941 7.74304 11.7844 8.22915 12.2705C8.71526 12.7566 9.30554 12.9997 9.99998 12.9997ZM9.99998 14.6663C8.8472 14.6663 7.8647 14.26 7.05248 13.4472C6.2397 12.635 5.83331 11.6525 5.83331 10.4997C5.83331 9.3469 6.2397 8.36412 7.05248 7.55134C7.8647 6.73912 8.8472 6.33301 9.99998 6.33301C11.1528 6.33301 12.1355 6.73912 12.9483 7.55134C13.7605 8.36412 14.1666 9.3469 14.1666 10.4997C14.1666 11.6525 13.7605 12.635 12.9483 13.4472C12.1355 14.26 11.1528 14.6663 9.99998 14.6663ZM1.66665 11.333C1.43054 11.333 1.23276 11.253 1.07331 11.093C0.913313 10.9336 0.833313 10.7358 0.833313 10.4997C0.833313 10.2636 0.913313 10.0655 1.07331 9.90551C1.23276 9.74606 1.43054 9.66634 1.66665 9.66634H3.33331C3.56942 9.66634 3.76748 9.74606 3.92748 9.90551C4.08692 10.0655 4.16665 10.2636 4.16665 10.4997C4.16665 10.7358 4.08692 10.9336 3.92748 11.093C3.76748 11.253 3.56942 11.333 3.33331 11.333H1.66665ZM16.6666 11.333C16.4305 11.333 16.2328 11.253 16.0733 11.093C15.9133 10.9336 15.8333 10.7358 15.8333 10.4997C15.8333 10.2636 15.9133 10.0655 16.0733 9.90551C16.2328 9.74606 16.4305 9.66634 16.6666 9.66634H18.3333C18.5694 9.66634 18.7672 9.74606 18.9266 9.90551C19.0866 10.0655 19.1666 10.2636 19.1666 10.4997C19.1666 10.7358 19.0866 10.9336 18.9266 11.093C18.7672 11.253 18.5694 11.333 18.3333 11.333H16.6666ZM9.99998 4.66634C9.76387 4.66634 9.56609 4.58634 9.40665 4.42634C9.24665 4.2669 9.16665 4.06912 9.16665 3.83301V2.16634C9.16665 1.93023 9.24665 1.73217 9.40665 1.57217C9.56609 1.41273 9.76387 1.33301 9.99998 1.33301C10.2361 1.33301 10.4341 1.41273 10.5941 1.57217C10.7536 1.73217 10.8333 1.93023 10.8333 2.16634V3.83301C10.8333 4.06912 10.7536 4.2669 10.5941 4.42634C10.4341 4.58634 10.2361 4.66634 9.99998 4.66634ZM9.99998 19.6663C9.76387 19.6663 9.56609 19.5863 9.40665 19.4263C9.24665 19.2669 9.16665 19.0691 9.16665 18.833V17.1663C9.16665 16.9302 9.24665 16.7325 9.40665 16.573C9.56609 16.413 9.76387 16.333 9.99998 16.333C10.2361 16.333 10.4341 16.413 10.5941 16.573C10.7536 16.7325 10.8333 16.9302 10.8333 17.1663V18.833C10.8333 19.0691 10.7536 19.2669 10.5941 19.4263C10.4341 19.5863 10.2361 19.6663 9.99998 19.6663ZM4.70831 6.37467L3.81248 5.49967C3.64581 5.3469 3.56581 5.15245 3.57248 4.91634C3.5797 4.68023 3.6597 4.47884 3.81248 4.31217C3.97915 4.14551 4.18054 4.06217 4.41665 4.06217C4.65276 4.06217 4.8472 4.14551 4.99998 4.31217L5.87498 5.20801C6.02776 5.37467 6.10415 5.56912 6.10415 5.79134C6.10415 6.01356 6.02776 6.20801 5.87498 6.37467C5.7222 6.54134 5.53137 6.62106 5.30248 6.61384C5.07304 6.60717 4.87498 6.52745 4.70831 6.37467ZM15 16.6872L14.125 15.7913C13.9722 15.6247 13.8958 15.4269 13.8958 15.198C13.8958 14.9686 13.9722 14.7775 14.125 14.6247C14.2778 14.458 14.4689 14.3783 14.6983 14.3855C14.9272 14.3922 15.125 14.4719 15.2916 14.6247L16.1875 15.4997C16.3541 15.6525 16.4341 15.8469 16.4275 16.083C16.4203 16.3191 16.3403 16.5205 16.1875 16.6872C16.0208 16.8538 15.8194 16.9372 15.5833 16.9372C15.3472 16.9372 15.1528 16.8538 15 16.6872ZM14.125 6.37467C13.9583 6.2219 13.8786 6.03079 13.8858 5.80134C13.8925 5.57245 13.9722 5.37467 14.125 5.20801L15 4.31217C15.1528 4.14551 15.3472 4.06551 15.5833 4.07217C15.8194 4.0794 16.0208 4.1594 16.1875 4.31217C16.3541 4.47884 16.4375 4.68023 16.4375 4.91634C16.4375 5.15245 16.3541 5.3469 16.1875 5.49967L15.2916 6.37467C15.125 6.52745 14.9305 6.60384 14.7083 6.60384C14.4861 6.60384 14.2916 6.52745 14.125 6.37467ZM3.81248 16.6872C3.64581 16.5205 3.56248 16.3191 3.56248 16.083C3.56248 15.8469 3.64581 15.6525 3.81248 15.4997L4.70831 14.6247C4.87498 14.4719 5.07304 14.3955 5.30248 14.3955C5.53137 14.3955 5.7222 14.4719 5.87498 14.6247C6.04165 14.7775 6.12165 14.9686 6.11498 15.198C6.10776 15.4269 6.02776 15.6247 5.87498 15.7913L4.99998 16.6872C4.8472 16.8538 4.65276 16.9336 4.41665 16.9263C4.18054 16.9197 3.97915 16.84 3.81248 16.6872Z"
              fill="#F5F8FA"
            />
          </svg>
        ) : (
          <svg
            width="20"
            height="21"
            viewBox="0 0 20 21"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            className="w-full h-full icon"
          >
            <path
              d="M10 18C7.91667 18 6.14583 17.2708 4.6875 15.8125C3.22917 14.3542 2.5 12.5833 2.5 10.5C2.5 8.41667 3.22917 6.64583 4.6875 5.1875C6.14583 3.72917 7.91667 3 10 3C10.1944 3 10.3856 3.00694 10.5733 3.02083C10.7606 3.03472 10.9444 3.05556 11.125 3.08333C10.5556 3.48611 10.1008 4.01028 9.76083 4.65583C9.42028 5.30194 9.25 6 9.25 6.75C9.25 8 9.6875 9.0625 10.5625 9.9375C11.4375 10.8125 12.5 11.25 13.75 11.25C14.5139 11.25 15.2153 11.0797 15.8542 10.7392C16.4931 10.3992 17.0139 9.94444 17.4167 9.375C17.4444 9.55555 17.4653 9.73944 17.4792 9.92667C17.4931 10.1144 17.5 10.3056 17.5 10.5C17.5 12.5833 16.7708 14.3542 15.3125 15.8125C13.8542 17.2708 12.0833 18 10 18ZM10 16.3333C11.2222 16.3333 12.3194 15.9967 13.2917 15.3233C14.2639 14.6494 14.9722 13.7708 15.4167 12.6875C15.1389 12.7569 14.8611 12.8125 14.5833 12.8542C14.3056 12.8958 14.0278 12.9167 13.75 12.9167C12.0417 12.9167 10.5867 12.3161 9.385 11.115C8.18389 9.91333 7.58333 8.45833 7.58333 6.75C7.58333 6.47222 7.60417 6.19444 7.64583 5.91667C7.6875 5.63889 7.74306 5.36111 7.8125 5.08333C6.72917 5.52778 5.85083 6.23611 5.1775 7.20833C4.50361 8.18056 4.16667 9.27778 4.16667 10.5C4.16667 12.1111 4.73611 13.4861 5.875 14.625C7.01389 15.7639 8.38889 16.3333 10 16.3333Z"
              fill="#5E6278"
            />
          </svg>
        )}
      </div>
      
      {/* Text visible on mobile and hidden on desktop */}
      <span className="lg:hidden text-sm font-medium truncate">
        Switch to {isDark ? 'Light' : 'Dark'} Mode
      </span>
    </Button>
  );
};

export default ThemeSwitcher;